{"remainingRequest":"/Users/alexey/work/vue3-minin-practice/node_modules/babel-loader/lib/index.js!/Users/alexey/work/vue3-minin-practice/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/alexey/work/vue3-minin-practice/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/alexey/work/vue3-minin-practice/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/alexey/work/vue3-minin-practice/src/views/Home.vue?vue&type=template&id=fae5bece","dependencies":[{"path":"/Users/alexey/work/vue3-minin-practice/src/views/Home.vue","mtime":1648658808758},{"path":"/Users/alexey/work/vue3-minin-practice/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alexey/work/vue3-minin-practice/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alexey/work/vue3-minin-practice/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/alexey/work/vue3-minin-practice/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alexey/work/vue3-minin-practice/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgVGVsZXBvcnQgYXMgX1RlbGVwb3J0IH0gZnJvbSAidnVlIjsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUpIHsKICB2YXIgX2NvbXBvbmVudF9hcHBfbG9hZGVyID0gX3Jlc29sdmVDb21wb25lbnQoImFwcC1sb2FkZXIiKTsKCiAgdmFyIF9jb21wb25lbnRfcmVxdWVzdF9maWx0ZXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgicmVxdWVzdC1maWx0ZXIiKTsKCiAgdmFyIF9jb21wb25lbnRfcmVxdWVzdF90YWJsZSA9IF9yZXNvbHZlQ29tcG9uZW50KCJyZXF1ZXN0LXRhYmxlIik7CgogIHZhciBfY29tcG9uZW50X3JlcXVlc3RfbW9kYWwgPSBfcmVzb2x2ZUNvbXBvbmVudCgicmVxdWVzdC1tb2RhbCIpOwoKICB2YXIgX2NvbXBvbmVudF9hcHBfbW9kYWwgPSBfcmVzb2x2ZUNvbXBvbmVudCgiYXBwLW1vZGFsIik7CgogIHZhciBfY29tcG9uZW50X2FwcF9wYWdlID0gX3Jlc29sdmVDb21wb25lbnQoImFwcC1wYWdlIik7CgogIHJldHVybiBfY3R4LmxvYWRpbmcgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9hcHBfbG9hZGVyLCB7CiAgICBrZXk6IDAKICB9KSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9hcHBfcGFnZSwgewogICAga2V5OiAxLAogICAgdGl0bGU6ICLQodC/0LjRgdC+0Log0LfQsNGP0LLQvtC6IgogIH0sIHsKICAgIGhlYWRlcjogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgICAgICJjbGFzcyI6ICJidG4gcHJpbWFyeSIsCiAgICAgICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gX2N0eC5tb2RhbCA9IHRydWU7CiAgICAgICAgfSkKICAgICAgfSwgItCh0L7Qt9C00LDRgtGMIildOwogICAgfSksCiAgICAiZGVmYXVsdCI6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9yZXF1ZXN0X2ZpbHRlciwgewogICAgICAgIG1vZGVsVmFsdWU6IF9jdHguZmlsdGVyLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gX2N0eC5maWx0ZXIgPSAkZXZlbnQ7CiAgICAgICAgfSkKICAgICAgfSwgbnVsbCwgOAogICAgICAvKiBQUk9QUyAqLwogICAgICAsIFsibW9kZWxWYWx1ZSJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcmVxdWVzdF90YWJsZSwgewogICAgICAgIHJlcXVlc3RzOiBfY3R4LnJlcXVlc3RzCiAgICAgIH0sIG51bGwsIDgKICAgICAgLyogUFJPUFMgKi8KICAgICAgLCBbInJlcXVlc3RzIl0pLCAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX1RlbGVwb3J0LCB7CiAgICAgICAgdG86ICJib2R5IgogICAgICB9LCBbX2N0eC5tb2RhbCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2FwcF9tb2RhbCwgewogICAgICAgIGtleTogMCwKICAgICAgICB0aXRsZTogItCh0L7Qt9C00LDRgtGMINC30LDRj9Cy0LrRgyIsCiAgICAgICAgb25DbG9zZTogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gX2N0eC5tb2RhbCA9IGZhbHNlOwogICAgICAgIH0pCiAgICAgIH0sIHsKICAgICAgICAiZGVmYXVsdCI6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcmVxdWVzdF9tb2RhbCwgewogICAgICAgICAgICBvbkNyZWF0ZWQ6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICAgIHJldHVybiBfY3R4Lm1vZGFsID0gZmFsc2U7CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KV07CiAgICAgICAgfSksCiAgICAgICAgXzogMQogICAgICAgIC8qIFNUQUJMRSAqLwoKICAgICAgfSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSkpXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0pKTsKfQ=="},{"version":3,"sources":["/Users/alexey/work/vue3-minin-practice/src/views/Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;SACoB,IAAA,CAAA,O,kBAAlB,YAAA,CAA6B,qBAA7B,EAA6B;AAAA,IAAA,GAAA,EAAA;AAAA,GAA7B,C,mBACA,YAAA,CAaW,mBAbX,EAaW;UAAA;AAbD,IAAA,KAAK,EAAC;AAaL,GAbX,E;AACa,IAAA,MAAM,EAAA,QAAA,CACf;AAAA,aAAkE,CAAlE,YAAA,CAAkE,QAAlE,EAAkE;AAA1D,iBAAM,aAAoD;AAArC,QAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,iBAAE,IAAA,CAAA,KAAA,GAAK,IAAP;AAAA,SAAA;AAAgC,OAAlE,EAAkD,SAAlD,CAAkE,CAAlE;AAAA,KADe,C;wBAIjB;AAAA,aAAkD,CAAlD,YAAA,CAAkD,yBAAlD,EAAkD;oBAAzB,IAAA,CAAA,MAAyB;;iBAAzB,IAAA,CAAA,MAAA,GAAM,M;;AAAmB,OAAlD,E,IAAA,E;;AAAA,Q,cAAA,CAAkD,EAClD,YAAA,CAAoD,wBAApD,EAAoD;AAApC,QAAA,QAAQ,EAAE,IAAA,CAAA;AAA0B,OAApD,EAAkC,IAAlC,EAAkC;AAAA;AAAlC,QAAkC,CAAA,UAAA,CAAlC,CADkD,G,cAGlD,YAAA,CAIW,SAJX,EAIW;AAJD,QAAA,EAAE,EAAC;AAIF,OAJX,EAAmB,CACA,IAAA,CAAA,K,kBAAjB,YAAA,CAEY,oBAFZ,EAEY;cAAA;AAFY,QAAA,KAAK,EAAC,gBAElB;AAFoC,QAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,iBAAE,IAAA,CAAA,KAAA,GAAK,KAAP;AAAA,SAAA;AAEzC,OAFZ,E;4BACE;AAAA,iBAAwD,CAAxD,YAAA,CAAwD,wBAAxD,EAAwD;AAAxC,YAAA,SAAO,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,qBAAE,IAAA,CAAA,KAAA,GAAK,KAAP;AAAA,aAAA;AAAiC,WAAxD,CAAwD,CAAxD;AAAA,S;;;;OADF,C,qCADiB,CAAnB,CAHkD,EAAlD;AAAA,K;;;;GALF,C","sourcesContent":["<template>\n  <app-loader v-if=\"loading\" />\n  <app-page title=\"Список заявок\" v-else>\n    <template #header>\n      <button class=\"btn primary\" @click=\"modal = true\">Создать</button>\n    </template>\n\n    <request-filter v-model=\"filter\"></request-filter>\n    <request-table :requests=\"requests\"></request-table>\n\n    <teleport to=\"body\">\n      <app-modal v-if=\"modal\" title=\"Создать заявку\" @close=\"modal = false\">\n        <request-modal @created=\"modal = false\"></request-modal>\n      </app-modal>\n    </teleport>\n  </app-page>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from 'vue'\nimport AppPage from '../components/ui/AppPage.vue'\nimport AppModal from '../components/ui/AppModal.vue'\nimport AppLoader from '../components/ui/AppLoader.vue'\nimport RequestTable from '../components/request/RequestTable.vue'\nimport RequestModal from '../components/request/RequestModal.vue'\nimport RequestFilter from '../components/request/RequestFilter.vue'\nimport\nimport { useStore } from 'vuex'\nexport default {\n  name: 'Home',\n  setup() {\n    const store = useStore()\n    const modal = ref(false)\n    const loading = ref(false)\n    const filter = ref({})\n\n    onMounted(async () => {\n      loading.value = true\n      await store.dispatch('request/load')\n      loading.value = false\n    })\n\n    const requests = computed(() =>\n      store.getters['request/requests']\n        .filter(request => {\n          if (filter.value.name) {\n            return request.fio.includes(filter.value.name)\n          }\n          return request\n        })\n        .filter(request => {\n          if (filter.value.status) {\n            return filter.value.status === request.status\n          }\n          return request\n        })\n    )\n\n    return {\n      modal,\n      requests,\n      loading,\n      filter\n    }\n  },\n  components: {\n    AppPage,\n    AppModal,\n    AppLoader,\n    RequestTable,\n    RequestModal,\n    RequestFilter\n  }\n}\n</script>\n"],"sourceRoot":""}]}