{"remainingRequest":"/Users/alexey/work/vue3-minin-practice/node_modules/babel-loader/lib/index.js!/Users/alexey/work/vue3-minin-practice/src/store/modules/auth.module.js","dependencies":[{"path":"/Users/alexey/work/vue3-minin-practice/src/store/modules/auth.module.js","mtime":1648568446671},{"path":"/Users/alexey/work/vue3-minin-practice/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alexey/work/vue3-minin-practice/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2FsZXhleS93b3JrL3Z1ZTMtbWluaW4tcHJhY3RpY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwp2YXIgVE9LRU5fS0VZID0gJ2p3dC10b2tlbic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBmdW5jdGlvbiBzdGF0ZSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShUT0tFTl9LRVkpCiAgICB9OwogIH0sCiAgZ2V0dGVyczogewogICAgdG9rZW46IGZ1bmN0aW9uIHRva2VuKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS50b2tlbjsKICAgIH0sCiAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZChfLCBnZXR0ZXJzKSB7CiAgICAgIHJldHVybiAhIWdldHRlcnMudG9rZW47CiAgICB9IC8vIGlzQXV0aGVudGljYXRlZChzdGF0ZSkgewogICAgLy8gICByZXR1cm4gISFzdGF0ZS50b2tlbjsKICAgIC8vIH0sCgogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFRPS0VOX0tFWSwgdG9rZW4pOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnRva2VuID0gbnVsbDsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oVE9LRU5fS0VZKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCBwYXlsb2FkKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0VG9rZW4nLCAnVEVTVCBUT0tFTicpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/alexey/work/vue3-minin-practice/src/store/modules/auth.module.js"],"names":["TOKEN_KEY","namespaced","state","token","localStorage","getItem","getters","isAuthenticated","_","mutations","setToken","setItem","logout","removeItem","actions","login","payload","commit"],"mappings":";;AAAA,IAAMA,SAAS,GAAG,WAAlB;AAEA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AAEbC,EAAAA,KAFa,mBAEL;AACN,WAAO;AACLC,MAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqBL,SAArB;AADF,KAAP;AAGD,GANY;AAObM,EAAAA,OAAO,EAAE;AACPH,IAAAA,KADO,iBACDD,KADC,EACM;AACX,aAAOA,KAAK,CAACC,KAAb;AACD,KAHM;AAIPI,IAAAA,eAJO,2BAISC,CAJT,EAIYF,OAJZ,EAIqB;AAC1B,aAAO,CAAC,CAACA,OAAO,CAACH,KAAjB;AACD,KANM,CAOP;AACA;AACA;;AATO,GAPI;AAkBbM,EAAAA,SAAS,EAAE;AACTC,IAAAA,QADS,oBACAR,KADA,EACOC,KADP,EACc;AACrBD,MAAAA,KAAK,CAACC,KAAN,GAAcA,KAAd;AACAC,MAAAA,YAAY,CAACO,OAAb,CAAqBX,SAArB,EAAgCG,KAAhC;AACD,KAJQ;AAKTS,IAAAA,MALS,kBAKFV,KALE,EAKK;AACZA,MAAAA,KAAK,CAACC,KAAN,GAAc,IAAd;AACAC,MAAAA,YAAY,CAACS,UAAb,CAAwBb,SAAxB;AACD;AARQ,GAlBE;AA4Bbc,EAAAA,OAAO,EAAE;AACDC,IAAAA,KADC,uBACiBC,OADjB,EAC0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAnBC,gBAAAA,MAAmB,QAAnBA,MAAmB;AAC/BA,gBAAAA,MAAM,CAAC,UAAD,EAAa,YAAb,CAAN;;AAD+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEhC;AAHM;AA5BI,CAAf","sourcesContent":["const TOKEN_KEY = 'jwt-token';\n\nexport default {\n  namespaced: true,\n  state() {\n    return {\n      token: localStorage.getItem(TOKEN_KEY),\n    };\n  },\n  getters: {\n    token(state) {\n      return state.token;\n    },\n    isAuthenticated(_, getters) {\n      return !!getters.token;\n    },\n    // isAuthenticated(state) {\n    //   return !!state.token;\n    // },\n  },\n  mutations: {\n    setToken(state, token) {\n      state.token = token;\n      localStorage.setItem(TOKEN_KEY, token);\n    },\n    logout(state) {\n      state.token = null;\n      localStorage.removeItem(TOKEN_KEY);\n    },\n  },\n  actions: {\n    async login({ commit }, payload) {\n      commit('setToken', 'TEST TOKEN');\n    },\n  },\n};\n"]}]}