{"remainingRequest":"/Users/alexey/work/vue3-minin-practice/node_modules/babel-loader/lib/index.js!/Users/alexey/work/vue3-minin-practice/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/alexey/work/vue3-minin-practice/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/alexey/work/vue3-minin-practice/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/alexey/work/vue3-minin-practice/src/views/Request.vue?vue&type=template&id=5ae72c76","dependencies":[{"path":"/Users/alexey/work/vue3-minin-practice/src/views/Request.vue","mtime":1648659200041},{"path":"/Users/alexey/work/vue3-minin-practice/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alexey/work/vue3-minin-practice/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alexey/work/vue3-minin-practice/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/alexey/work/vue3-minin-practice/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alexey/work/vue3-minin-practice/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCB2TW9kZWxTZWxlY3QgYXMgX3ZNb2RlbFNlbGVjdCwgd2l0aERpcmVjdGl2ZXMgYXMgX3dpdGhEaXJlY3RpdmVzLCB3aXRoQ3R4IGFzIF93aXRoQ3R4IH0gZnJvbSAidnVlIjsKCnZhciBfaG9pc3RlZF8xID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgic3Ryb25nIiwgbnVsbCwgItCY0LzRjyDQstC70LDQtNC10LvRjNGG0LAiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInN0cm9uZyIsIG51bGwsICLQotC10LvQtdGE0L7QvSIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgic3Ryb25nIiwgbnVsbCwgItCh0YPQvNC80LAiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInN0cm9uZyIsIG51bGwsICLQodGC0LDRgtGD0YEiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCI6ICIpOwoKdmFyIF9ob2lzdGVkXzYgPSB7CiAgImNsYXNzIjogImZvcm0tY29udHJvbCIKfTsKCnZhciBfaG9pc3RlZF83ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgibGFiZWwiLCB7CiAgImZvciI6ICJzdGF0dXMiCn0sICLQodGC0LDRgtGD0YEiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfOCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoIm9wdGlvbiIsIHsKICB2YWx1ZTogImRvbmUiCn0sICLQl9Cw0LLQtdGA0YjQtdC9IiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzkgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJvcHRpb24iLCB7CiAgdmFsdWU6ICJjYW5jZWxsZWQiCn0sICLQntGC0LzQtdC90LXQvSIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8xMCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoIm9wdGlvbiIsIHsKICB2YWx1ZTogImFjdGl2ZSIKfSwgItCQ0LrRgtC40LLQtdC9IiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzExID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgib3B0aW9uIiwgewogIHZhbHVlOiAicGVuZGluZyIKfSwgItCS0YvQv9C+0LvQvdGP0LXRgtGB0Y8iLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMTIgPSB7CiAga2V5OiAyLAogICJjbGFzcyI6ICJ0ZXh0LWNlbnRlciB0ZXh0LXdoaXRlIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2FwcF9sb2FkZXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiYXBwLWxvYWRlciIpOwoKICB2YXIgX2NvbXBvbmVudF9hcHBfc3RhdHVzID0gX3Jlc29sdmVDb21wb25lbnQoImFwcC1zdGF0dXMiKTsKCiAgdmFyIF9jb21wb25lbnRfYXBwX3BhZ2UgPSBfcmVzb2x2ZUNvbXBvbmVudCgiYXBwLXBhZ2UiKTsKCiAgcmV0dXJuICRzZXR1cC5sb2FkaW5nID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfYXBwX2xvYWRlciwgewogICAga2V5OiAwCiAgfSkpIDogJHNldHVwLnJlcXVlc3QgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9hcHBfcGFnZSwgewogICAga2V5OiAxLAogICAgYmFjazogIiIsCiAgICB0aXRsZTogItCX0LDRj9Cy0LrQsCIKICB9LCB7CiAgICAiZGVmYXVsdCI6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoInAiLCBudWxsLCBbX2hvaXN0ZWRfMSwgX2NyZWF0ZVRleHRWTm9kZSgiOiAiICsgX3RvRGlzcGxheVN0cmluZygkc2V0dXAucmVxdWVzdC5maW8pLCAxCiAgICAgIC8qIFRFWFQgKi8KICAgICAgKV0pLCBfY3JlYXRlVk5vZGUoInAiLCBudWxsLCBbX2hvaXN0ZWRfMiwgX2NyZWF0ZVRleHRWTm9kZSgiOiAiICsgX3RvRGlzcGxheVN0cmluZygkc2V0dXAucmVxdWVzdC5waG9uZSksIDEKICAgICAgLyogVEVYVCAqLwogICAgICApXSksIF9jcmVhdGVWTm9kZSgicCIsIG51bGwsIFtfaG9pc3RlZF8zLCBfY3JlYXRlVGV4dFZOb2RlKCI6ICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5jdXJyZW5jeSgkc2V0dXAucmVxdWVzdC5hbW91bnQpKSwgMQogICAgICAvKiBURVhUICovCiAgICAgICldKSwgX2NyZWF0ZVZOb2RlKCJwIiwgbnVsbCwgW19ob2lzdGVkXzQsIF9ob2lzdGVkXzUsIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2FwcF9zdGF0dXMsIHsKICAgICAgICB0eXBlOiAkc2V0dXAucmVxdWVzdC5zdGF0dXMKICAgICAgfSwgbnVsbCwgOAogICAgICAvKiBQUk9QUyAqLwogICAgICAsIFsidHlwZSJdKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzYsIFtfaG9pc3RlZF83LCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJzZWxlY3QiLCB7CiAgICAgICAgaWQ6ICJzdGF0dXMiLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gJHNldHVwLnN0YXR1cyA9ICRldmVudDsKICAgICAgICB9KQogICAgICB9LCBbX2hvaXN0ZWRfOCwgX2hvaXN0ZWRfOSwgX2hvaXN0ZWRfMTAsIF9ob2lzdGVkXzExXSwgNTEyCiAgICAgIC8qIE5FRURfUEFUQ0ggKi8KICAgICAgKSwgW1tfdk1vZGVsU2VsZWN0LCAkc2V0dXAuc3RhdHVzXV0pXSksIF9jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgICAgICJjbGFzcyI6ICJidG4gZGFuZ2VyIiwKICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiAkc2V0dXAucmVtb3ZlICYmICRzZXR1cC5yZW1vdmUuYXBwbHkoJHNldHVwLCBhcmd1bWVudHMpOwogICAgICAgIH0pCiAgICAgIH0sICLQo9C00LDQu9C40YLRjCIpLCAkc2V0dXAuaGFzQ2hhbmdlcyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiYnV0dG9uIiwgewogICAgICAgIGtleTogMCwKICAgICAgICAiY2xhc3MiOiAiYnRuIiwKICAgICAgICBvbkNsaWNrOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiAkc2V0dXAudXBkYXRlICYmICRzZXR1cC51cGRhdGUuYXBwbHkoJHNldHVwLCBhcmd1bWVudHMpOwogICAgICAgIH0pCiAgICAgIH0sICLQntCx0L3QvtCy0LjRgtGMIikpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0pKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiaDMiLCBfaG9pc3RlZF8xMiwgIiDQl9Cw0Y/QstC60Lgg0YEgSUQgPSAiICsgX3RvRGlzcGxheVN0cmluZyhfY3R4LiRyb3V0ZS5wYXJhbXMuaWQpICsgIiDQvdC10YIuICIsIDEKICAvKiBURVhUICovCiAgKSk7Cn0="},{"version":3,"sources":["/Users/alexey/work/vue3-minin-practice/src/views/Request.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <app-loader v-if=\"loading\"></app-loader>\n  <app-page back title=\"Заявка\" v-else-if=\"request\">\n    <p><strong>Имя владельца</strong>: {{ request.fio }}</p>\n    <p><strong>Телефон</strong>: {{ request.phone }}</p>\n    <p><strong>Сумма</strong>: {{ currency(request.amount) }}</p>\n    <p><strong>Статус</strong>: <app-status :type=\"request.status\" /></p>\n\n    <div class=\"form-control\">\n      <label for=\"status\">Статус</label>\n      <select id=\"status\" v-model=\"status\">\n        <option value=\"done\">Завершен</option>\n        <option value=\"cancelled\">Отменен</option>\n        <option value=\"active\">Активен</option>\n        <option value=\"pending\">Выполняется</option>\n      </select>\n    </div>\n\n    <button class=\"btn danger\" @click=\"remove\">Удалить</button>\n    <button class=\"btn\" @click=\"update\" v-if=\"hasChanges\">Обновить</button>\n  </app-page>\n  <h3 v-else class=\"text-center text-white\">\n    Заявки с ID = {{ $route.params.id }} нет.\n  </h3>\n</template>\n\n<script>\nimport { ref, onMounted, computed } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRoute, useRouter } from 'vue-router'\nimport AppPage from '../components/ui/AppPage'\nimport AppLoader from '../components/ui/AppLoader'\nimport AppStatus from '../components/ui/AppStatus'\nimport { currency } from '../utils/currency'\n\nexport default {\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const store = useStore()\n    const status = ref()\n    const loading = ref(true)\n    const request = ref({})\n\n    onMounted(async () => {\n      loading.value = true\n      request.value = await store.dispatch('request/loadOne', route.params.id)\n      status.value = request.value?.status\n      loading.value = false\n    })\n\n    const hasChanges = computed(() => request.value.status !== status.value)\n\n    const remove = async () => {\n      await store.dispatch('request/remove', route.params.id)\n      router.push('/')\n    }\n\n    const update = async () => {\n      const data = {\n        ...request.value,\n        status: status.value,\n        id: route.params.id\n      }\n      await store.dispatch('request/update', data)\n      request.value.status = status.value\n    }\n\n    return { loading, request, currency, remove, update, status, hasChanges }\n  },\n  components: { AppPage, AppLoader, AppStatus }\n}\n</script>\n\n<style scoped></style>\n"],"sourceRoot":""}]}